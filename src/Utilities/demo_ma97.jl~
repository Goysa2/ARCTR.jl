using HSL
using LinearOperators

K = diagm(1 ./ [1.0; 2.0; 3.0; 4.0; 5.0])
rhs = ones(5)
x1=K\rhs
spK = sparse(K)

K[3,3]=eps()

LBL = Ma97(K)
ma97_factorize(LBL)
x2 = ma97_solve(LBL, rhs)  # or x = LBL \ b
ret = ma97_inquire(LBL)
d=ret[2]
piv=ret[1]
show(piv);println()
show(d);println()
d[1,3] = 3.0
show(d);println()

ma97_alter(LBL, d)

x3 = ma97_solve(LBL, rhs)

show(x3)
